# 📊 Stock Price Tracker - 项目规划

## 🎯 项目目标
开发一个通用的股票价格趋势跟踪小程序，自动追踪 10 只热门股票的价格走势，提供实时数据和历史图表。

---

## 📱 整体架构

```
┌─────────────────────────────────────────────────────┐
│                  WeChat Mini Program                 │
│  (React Native / Native WeChat Framework)           │
│  - 首页: 10 只股票列表 + 实时价格                      │
│  - 详情页: 股票走势图 + 历史数据                       │
│  - 搜索页: 搜索其他股票                                │
└────────────────────────────────────────────────────────┘
                            ↓ HTTPS API
┌─────────────────────────────────────────────────────┐
│              Backend (Node.js + Express)             │
│  - GET /api/stocks - 获取 10 只热门股票             │
│  - GET /api/stocks/:symbol - 获取单只股票详情      │
│  - GET /api/stocks/:symbol/history - 获取历史数据  │
│  - POST /api/stocks/add - 添加到关注列表            │
└────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────┐
│            External API (Alpha Vantage)             │
│  - 实时股票价格数据                                   │
│  - 历史日线数据                                       │
│  - 技术指标数据                                       │
└────────────────────────────────────────────────────────┘
```

---

## 🛠 技术栈

| 模块 | 技术 | 备注 |
|------|------|------|
| **小程序** | WeChat Mini Program (原生) | 已有框架 |
| **后端** | Node.js + Express + PostgreSQL | 已有基础 |
| **数据来源** | Alpha Vantage API | 免费，美股数据 |
| **缓存** | Redis (可选) | 减少 API 调用 |
| **图表** | ECharts / Chart.js | 前端展示 |

---

## 📋 项目阶段

### **Phase 1: 数据库设计** ⏳ 进行中
- [x] 分析需求
- [ ] 设计 stocks 表（股票基础信息）
- [ ] 设计 stock_prices 表（价格历史）
- [ ] 设计 watchlist 表（用户关注列表）
- [ ] 创建索引和视图

### **Phase 2: 后端 API 开发** ⏳ 待开始
- [ ] 集成 Alpha Vantage API
- [ ] 实现 GET /api/stocks 端点
- [ ] 实现 GET /api/stocks/:symbol 端点
- [ ] 实现定时任务（每天更新股票数据）
- [ ] 添加数据缓存机制

### **Phase 3: 小程序 UI 开发** ⏳ 待开始
- [ ] 首页: 10 只股票列表
  - 显示: 股票名称、代码、当前价格、涨跌幅
  - 支持: 点击查看详情
- [ ] 详情页: 单只股票详情
  - 显示: 实时价格、涨跌、日期
  - 图表: 7天 / 30天 / 1年走势图
- [ ] 搜索页: 搜索其他股票
- [ ] 我的页面: 关注列表管理

### **Phase 4: 数据可视化** ⏳ 待开始
- [ ] 集成图表库（ECharts）
- [ ] 实现 K 线图
- [ ] 实现趋势线图
- [ ] 实现对比功能（多只股票对比）

### **Phase 5: 优化和部署** ⏳ 待开始
- [ ] 性能优化
- [ ] 错误处理和异常恢复
- [ ] 用户隐私保护
- [ ] 部署到 Railway
- [ ] 小程序发布审核

### **Phase 6: 扩展功能** ⏳ 待开始
- [ ] 添加提醒功能（价格达到某个值时提醒）
- [ ] 添加自定义列表功能
- [ ] 添加对比分析功能
- [ ] 支持港股、A股等其他市场

---

## 📊 默认追踪的 10 只美股

| 代码 | 公司 | 行业 |
|------|------|------|
| AAPL | Apple | 科技 |
| MSFT | Microsoft | 科技 |
| GOOGL | Google | 科技 |
| AMZN | Amazon | 电商 |
| NVDA | NVIDIA | 芯片 |
| TSLA | Tesla | 汽车 |
| META | Meta | 社交媒体 |
| NFLX | Netflix | 流媒体 |
| UBER | Uber | 出行 |
| JPM | JPMorgan | 金融 |

---

## 🚀 当前进度

**总完成度**: 5% (1/20 阶段)

```
Phase 1: ████░░░░░░░░░░░░░░░ 20%
Phase 2: ░░░░░░░░░░░░░░░░░░░░  0%
Phase 3: ░░░░░░░░░░░░░░░░░░░░  0%
Phase 4: ░░░░░░░░░░░░░░░░░░░░  0%
Phase 5: ░░░░░░░░░░░░░░░░░░░░  0%
Phase 6: ░░░░░░░░░░░░░░░░░░░░  0%
```

---

## 📝 更新日志

### 2026-02-16
- ✅ 项目规划完成
- ✅ 技术栈确定 (Alpha Vantage + Node.js + WeChat Mini Program)
- ✅ 创建 PROJECT_PLAN.md
- ⏳ 下一步: 设计数据库

---

## 🔗 相关链接

- **GitHub**: https://github.com/yaoleo/yaofire
- **Railway**: https://yaofire.up.railway.app
- **Alpha Vantage**: https://www.alphavantage.co
- **小程序 AppID**: wxbd7d411ce0f83e74

---

## 💡 关键决策

1. ✅ **数据源**: Alpha Vantage（免费，美股）
2. ✅ **默认列表**: 10 只科技和热门股票
3. ✅ **无需登录**: 所有用户直接访问（匿名使用）
4. ⏳ **缓存策略**: 每天更新一次数据（待确认）
5. ⏳ **图表库**: 待选择 (ECharts / Chart.js)
