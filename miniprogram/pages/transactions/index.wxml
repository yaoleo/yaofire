<view class="page">
  <view class="header">
    <text class="title">ðŸ“‹ äº¤æ˜“è®°å½•</text>
  </view>
  
  <view class="filter">
    <picker bindchange="handleTypeChange" value="{{typeIndex}}" range="{{typeOptions}}">
      <view class="picker">{{typeOptions[typeIndex]}}</view>
    </picker>
  </view>

  <view class="list" wx:if="{{transactions && transactions.length}}">
    <view class="list-item" wx:for="{{transactions}}" wx:key="id">
      <view class="item-left">
        <text class="item-title">{{item.category_name}}</text>
        <text class="item-date">{{item.transaction_date}}</text>
      </view>
      <text class="item-amount {{item.type}}">{{item.type === 'income' ? '+' : '-'}}Â¥{{item.amount}}</text>
    </view>
  </view>

  <view class="empty" wx:if="{{!loading && (!transactions || !transactions.length)}}">
    <text>æš‚æ— äº¤æ˜“è®°å½•</text>
  </view>

  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <view class="fab" bindtap="goToAdd">âž•</view>
</view>
