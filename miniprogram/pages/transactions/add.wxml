<view class="page">
  <view class="header">
    <text>➕ 记录交易</text>
  </view>

  <view class="form-container">
    <view class="form-group">
      <text class="label">类型</text>
      <picker bindchange="handleTypeChange" value="{{typeIndex}}" range="{{types}}">
        <view class="picker">{{types[typeIndex]}}</view>
      </picker>
    </view>

    <view class="form-group">
      <text class="label">金额</text>
      <input type="number" placeholder="请输入金额" bindinput="handleAmountChange" value="{{amount}}" />
    </view>

    <view class="form-group">
      <text class="label">分类</text>
      <picker bindchange="handleCategoryChange" value="{{categoryIndex}}" range="{{categories}}" range-key="name">
        <view class="picker">{{categories[categoryIndex].name || '选择分类'}}</view>
      </picker>
    </view>

    <view class="form-group">
      <text class="label">日期</text>
      <picker mode="date" value="{{date}}" bindchange="handleDateChange">
        <view class="picker">{{date}}</view>
      </picker>
    </view>

    <view class="form-group">
      <text class="label">说明</text>
      <input type="text" placeholder="可选" bindinput="handleDescChange" value="{{description}}" />
    </view>

    <button class="btn" bindtap="handleSave">保存</button>
  </view>
</view>
